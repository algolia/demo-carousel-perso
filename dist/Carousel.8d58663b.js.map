{"version":3,"sources":["widgets/Carousel.js"],"names":["renderCarousel","isFirstRender","widgetParams","hits","container","document","querySelector","wrapper","createElement","classList","add","appendChild","carouselTitle","textContent","title","carouselListContainer","setAttribute","context","style","width","window","innerWidth","getBoundingClientRect","left","ul","innerHTML","map","hit","index","objectID","length","image","genre","join","querySelectorAll","forEach","button","addEventListener","ev","aa","eventName","objectIDs","currentTarget","dataset","id","customCarousel","instantsearch","connectors","connectHits"],"mappings":"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","file":"Carousel.8d58663b.js","sourceRoot":"../src","sourcesContent":["/**\n * @requires module:instantsearch\n */\n\nconst renderCarousel = ({ widgetParams, hits }, isFirstRender) => {\n  const container = document.querySelector(widgetParams.container);\n\n  if (isFirstRender) {\n    const wrapper = document.createElement('div');\n    wrapper.classList.add('carousel-single');\n\n    container.appendChild(wrapper);\n\n    const carouselTitle = document.createElement('h2');\n    carouselTitle.textContent = widgetParams.title;\n    wrapper.appendChild(carouselTitle);\n\n    const carouselListContainer = document.createElement('ul');\n    carouselListContainer.classList.add('carousels__list-container');\n    carouselListContainer.setAttribute('id', widgetParams.context);\n    wrapper.appendChild(carouselListContainer);\n\n    wrapper.style.width = `${window.innerWidth -\n      wrapper.getBoundingClientRect().left}px`;\n  }\n\n  const ul = container.querySelector(`ul#${widgetParams.context}`);\n  ul.innerHTML = hits\n    .map(\n      (hit, index) => `\n        <li class=\"analytics\" data-object-id=\"${hit.objectID}\" style=\"${\n        index === hits.length - 1\n          ? `padding-right: ${ul.getBoundingClientRect().left + 180}px`\n          : ''\n      }\">\n            <img src=\"${hit.image}\" alt=\"${hit.title}\">\n            <div class=\"overlay\">\n              <h3>${hit.title}</h3>\n              <ul>\n                ${hit.genre\n                  .map(\n                    (genre) => `\n                  <li>${genre}</li>\n                `\n                  )\n                  .join('')}\n              </ul>\n              <div class=\"button-container\">\n                  <button data-id=\"${hit.objectID}\" class=\"js-fav\">♡</button> \n                  <button data-id=\"${\n                    hit.objectID\n                  }\" class=\"js-watch\">▶️</button> \n                  <button data-id=\"${\n                    hit.objectID\n                  }\" class=\"js-details\">View details</button> \n              </div>\n          </div>\n        </li>\n    `\n    )\n    .join('');\n\n  [...container.querySelectorAll('.js-fav')].forEach((button) => {\n    button.addEventListener('click', (ev) => {\n      aa('clickedObjectIDs', {\n        index: 'perso_movies_carousel',\n        eventName: 'added_to_watchlist_movie',\n        objectIDs: [ev.currentTarget.dataset.id],\n      });\n    });\n  });\n  [...container.querySelectorAll('.js-watch')].forEach((button) => {\n    button.addEventListener('click', (ev) => {\n      aa('clickedObjectIDs', {\n        index: 'perso_movies_carousel',\n        eventName: 'added_to_watchlist_movie',\n        objectIDs: [ev.currentTarget.dataset.id],\n      });\n    });\n  });\n  [...container.querySelectorAll('.js-details')].forEach((button) => {\n    button.addEventListener('click', (ev) => {\n      aa('clickedObjectIDs', {\n        index: 'perso_movies_carousel',\n        eventName: 'added_to_watchlist_movie',\n        objectIDs: [ev.currentTarget.dataset.id],\n      });\n    });\n  });\n};\n\nexport const customCarousel = instantsearch.connectors.connectHits(\n  renderCarousel\n);\n"]}